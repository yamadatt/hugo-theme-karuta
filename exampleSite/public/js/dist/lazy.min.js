/*! Lazy-loaded features | Built: 2025-08-14T07:15:06.548Z */
(function(){"use strict";function i(r,t){const e=document.createElement("script");e.src=r,e.defer=!0,t&&(e.onload=t,e.onerror=function(){console.error("Failed to load script:",r)}),document.head.appendChild(e)}if(window.addEventListener("load",function(){setTimeout(function(){document.querySelector(".mermaid, pre code.language-mermaid")&&i("/js/mermaid.min.js",function(){i("/js/mermaid-init.js")})},100)}),"IntersectionObserver"in window){const r=document.querySelectorAll("[data-lazy]"),t=new IntersectionObserver(function(e){e.forEach(function(o){if(o.isIntersecting){const n=o.target,a=n.dataset.lazy;n.tagName==="IMG"?(n.src=a,n.removeAttribute("data-lazy")):n.tagName==="SCRIPT"&&(i(a),n.removeAttribute("data-lazy")),t.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.01});r.forEach(function(e){t.observe(e)})}function c(){document.querySelectorAll('a[href^="/"], a[href^="'+window.location.origin+'"]').forEach(function(t){t.addEventListener("mouseenter",function(){const e=this.href;if(e&&!document.querySelector('link[rel="prefetch"][href="'+e+'"]')){const o=document.createElement("link");o.rel="prefetch",o.href=e,document.head.appendChild(o)}},{once:!0})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c()})();

(function(){"use strict";"serviceWorker"in navigator&&(window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope),e.addEventListener("updatefound",function(){const n=e.installing;n&&n.addEventListener("statechange",function(){n.state==="installed"&&navigator.serviceWorker.controller&&confirm("\u65B0\u3057\u3044\u30B3\u30F3\u30C6\u30F3\u30C4\u304C\u5229\u7528\u53EF\u80FD\u3067\u3059\u3002\u30DA\u30FC\u30B8\u3092\u66F4\u65B0\u3057\u307E\u3059\u304B\uFF1F")&&window.location.reload()})})}).catch(function(e){console.log("ServiceWorker registration failed: ",e)}),navigator.serviceWorker.addEventListener("message",function(e){e.data&&e.data.type==="CACHE_UPDATED"&&console.log("Cache updated:",e.data.url)})}),window.addEventListener("online",function(){console.log("Back online"),document.body.classList.remove("offline")}),window.addEventListener("offline",function(){console.log("Gone offline"),document.body.classList.add("offline")}))})();

